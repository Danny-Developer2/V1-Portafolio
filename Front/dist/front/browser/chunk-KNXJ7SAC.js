import{$ as u,B as d,C as a,F as m,G as h,Ja as M,K as p,Ma as O,N as x,P as l,Q as _,R as C,S as r,T as n,U as g,W as P,X as s,_ as o,aa as f,ba as v,fa as b,ga as j,pa as y,qa as E,wa as D,ya as S}from"./chunk-QP2BZZD3.js";var w=(t,i)=>i.id;function k(t,i){if(t&1&&g(0,"img",3),t&2){let e=s();x("src",e.project.imgUrl,d)}}function R(t,i){t&1&&g(0,"img",3),t&2&&x("src","images/placeholder.jpg",d)}function z(t,i){t&1&&(r(0,"p",9),o(1,"No existen skills asignadas en este proyecto"),n())}function N(t,i){if(t&1&&(r(0,"span",17),o(1),n()),t&2){let e=i.$implicit;a(),u(e.name)}}function F(t,i){if(t&1&&(p(0,z,2,0,"p",9),_(1,N,2,1,"span",17,w)),t&2){let e=s();l(e.project.skills.length==0?0:-1),a(),C(e.project.skills)}}function U(t,i){if(t&1&&(r(0,"p"),o(1),n()),t&2){let e=s();a(),u(e.project.name)}}function A(t,i){t&1&&(r(0,"p"),o(1,"Proyecto no encontrado"),n())}function B(t,i){if(t&1&&o(0),t&2){let e=s();f(" ",e.project.description," ")}}function $(t,i){t&1&&o(0," Proyecto no encontrado ")}function q(t,i){if(t&1&&(r(0,"p"),o(1),n()),t&2){let e=s();a(),u(e.project.technology)}}function G(t,i){t&1&&(r(0,"p"),o(1,"No hay tecnolog\xEDa especificada"),n())}function H(t,i){t&1&&(r(0,"p",9),o(1,"No existen experiencias asignadas en este proyecto"),n())}function J(t,i){if(t&1&&(r(0,"div",18)(1,"p")(2,"strong"),o(3,"Empresa:"),n(),o(4),n(),r(5,"p")(6,"strong"),o(7,"Puesto:"),n(),o(8),n(),r(9,"p")(10,"strong"),o(11,"Fecha:"),n(),o(12),b(13,"date"),b(14,"date"),n(),r(15,"p")(16,"strong"),o(17,"Experiencia:"),n(),o(18),n()()),t&2){let e=i.$implicit;a(4),f(" ",e.companyName,""),a(4),f(" ",e.position,""),a(4),v(" ",j(13,5,e.startDate,"dd/MM/yyyy")," - ",j(14,8,e.endDate,"dd/MM/yyyy"),""),a(6),f(" ",e.description,"")}}function K(t,i){if(t&1&&_(0,J,19,11,"div",18,w),t&2){let e=s(2);C(e.project.experience)}}function L(t,i){t&1&&(r(0,"p",9),o(1,"No existen experiencias asignadas en este proyecto"),n())}function Q(t,i){if(t&1&&p(0,K,2,0)(1,L,2,0,"p",9),t&2){let e=s();l(e.project.experience&&e.project.experience.length>0?0:1)}}function V(t,i){if(t&1&&(r(0,"a",16)(1,"span",13),o(2,"Editar"),n()()),t&2){let e=s();x("href","/edit/"+(e.project==null?null:e.project.id),d)}}var T=class t{constructor(i,e,c,I){this.projectService=i;this.route=e;this.redirect=c;this.toastr=I}project;id=0;role="";token=null;ngOnInit(){this.route.paramMap.subscribe(i=>{let e=i.get("id");e?(this.id=+e,this.getProjectDetail(this.id)):this.toastr.error("Error al obtener el ID del proyecto","",{timeOut:5e3,positionClass:"toast-top-right"})})}getProjectDetail(i){if(i===null){this.toastr.error("Error al obtener el proyecto","",{timeOut:5e3,positionClass:"toast-top-right"});return}try{this.projectService.getProjectById(i).subscribe(e=>{this.project=e},e=>{console.error("Error al obtener los detalles del proyecto:",e)})}catch(e){console.error("Error al obtener los detalles del proyecto:",e)}}deleteProject(i){if(!i){this.toastr.error("Error al eliminar el poryecto","",{timeOut:5e3,positionClass:"toast-top-right"});return}if(this.projectService.deleteProject(i)!==null)this.toastr.success("Proyecto Eliminado con exito ","",{timeOut:5e3,positionClass:"toast-top-right"}),this.redirect.navigate(["/"]);else{this.toastr.error("Error al eliminar el proyecto","",{timeOut:5e3,positionClass:"toast-top-right"});return}}confirmDelete(i){if(i===null){this.toastr.error("Error al confirmar la eliminaci\xF3n","",{timeOut:5e3,positionClass:"toast-top-right"});return}try{window.confirm("\xBFEst\xE1s seguro de que deseas eliminar este proyecto?")&&this.deleteProject(i)}catch(e){console.error("Error al confirmar la eliminaci\xF3n:",e)}}getToken(){let i=sessionStorage.getItem("role");return i||""}static \u0275fac=function(e){return new(e||t)(m(O),m(D),m(S),m(M))};static \u0275cmp=h({type:t,selectors:[["app-detail-project"]],decls:36,vars:9,consts:[[1,"container","d-flex","justify-content-center","align-items-center","min-vh-100",2,"padding","2%"],[1,"card","custom-card","shadow-lg","row-cols-md-4","col-md-9","col-lg-8","d-flex","flex-row",2,"padding","3%"],[1,"col-12","col-md-5","left-section"],["alt","Project Image",1,"img-fluid","custom-img",3,"src"],[1,"text-center","section-title"],[1,"card-body","col-12","col-md-7","right-section"],[1,"section-title"],[1,"section-title","mt-3"],[1,"description-box"],[1,"text-center","text-muted"],[1,"position-absolute","top-btn"],[1,"btn","btn-danger","custom-btn",3,"href"],[1,"fas","fa-arrow-left"],[1,"text-white"],[1,"bottom-btns"],[1,"btn","btn-danger","custom-btn",3,"click"],[1,"btn","btn-secondary","custom-btn",3,"href"],[1,"badge","bg-primary","m-1"],[1,"mb-3","experience-box"]],template:function(e,c){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),p(3,k,1,1,"img",3)(4,R,1,1,"img",3),r(5,"h2",4),o(6,"Skills:"),n(),p(7,F,3,1),n(),r(8,"div",5)(9,"h2",6),o(10,"Nombre del proyecto:"),n(),p(11,U,2,1,"p")(12,A,2,0,"p"),r(13,"h2",7),o(14,"Descripci\xF3n:"),n(),r(15,"p",8),p(16,B,1,1)(17,$,1,0),n(),r(18,"p",7),o(19,"Tecnolog\xEDa:"),n(),p(20,q,2,1,"p")(21,G,2,0,"p"),r(22,"h2",7),o(23,"Experience:"),n(),p(24,H,2,0,"p",9)(25,Q,2,1),r(26,"div",10)(27,"a",11),g(28,"i",12),r(29,"span",13),o(30,"Regresar"),n()()(),r(31,"div",14)(32,"a",15),P("click",function(){return c.confirmDelete(c.project.id)}),r(33,"span",13),o(34,"Eliminar"),n()(),p(35,V,3,1,"a",16),n()()()()),e&2&&(a(3),l(c.project?3:4),a(4),l(c.project?7:-1),a(4),l(c.project?11:12),a(5),l(c.project?16:17),a(4),l(c.project?20:21),a(4),l((c.project==null||c.project.experience==null?null:c.project.experience.length)==0?24:-1),a(),l(c.project?25:-1),a(2),x("href","/",d),a(8),l(c.getToken()=="Admin"?35:-1))},dependencies:[E,y],styles:['@charset "UTF-8";.custom-card[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:15px;position:relative;flex-direction:row}.left-section[_ngcontent-%COMP%]{padding:4%;margin-top:5%;border-top-left-radius:15px;border-bottom-left-radius:15px}.right-section[_ngcontent-%COMP%]{padding:4%;text-align:justify;background-color:#e0d3d1;border-radius:10%;margin-top:4%}.custom-img[_ngcontent-%COMP%]{width:90%;height:auto;object-fit:cover;border-top-left-radius:15px;border-bottom-left-radius:15px}.section-title[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.2rem;color:#333}.description-box[_ngcontent-%COMP%]{max-height:100px;overflow-y:auto;padding:0;border:1px solid #e0d3d1;border-radius:5px;background-color:#e0d3d1;overflow-x:hidden;scrollbar-width:none;-ms-overflow-style:none}.experience-box[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:.9rem;color:#555}.custom-btn[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1rem;padding:5px 20px;border-radius:50px;transition:.3s;box-shadow:0 4px 6px #0000001a;text-transform:uppercase;font-weight:700;text-decoration:none}.top-btn[_ngcontent-%COMP%]{top:4%;right:25px}.bottom-btns[_ngcontent-%COMP%]{bottom:7%;right:70px;display:flex;gap:10px}@media (max-width: 768px){.custom-card[_ngcontent-%COMP%]{flex-direction:column}.top-btn[_ngcontent-%COMP%]{position:static;margin-top:20px;display:flex;justify-content:flex-start}.bottom-btns[_ngcontent-%COMP%]{position:static;margin-top:20px;display:flex;justify-content:flex-end}.custom-img[_ngcontent-%COMP%]{width:100%}.right-section[_ngcontent-%COMP%]{border-radius:15px}}@media (max-width: 1280px){.bottom-btns[_ngcontent-%COMP%]{position:static;padding:2%;margin-top:25px;display:flex;justify-content:flex-end;margin-right:-3%}.custom-card[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-top:10px;border-radius:15px;position:relative;flex-direction:row}.right-section[_ngcontent-%COMP%]{padding:3%;text-align:justify;background-color:#e0d3d1;border-radius:10%;margin-top:7%}}@media (max-width: 820px){.custom-card[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-top:10px;border-radius:15px;position:relative;flex-direction:column}.left-section[_ngcontent-%COMP%]{display:none}.right-section[_ngcontent-%COMP%]{padding:5%;text-align:justify;background-color:#e0d3d1;border-radius:10%;margin-top:0%}.section-title[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.2rem;color:#333}.top-btn[_ngcontent-%COMP%]{position:static;margin-bottom:20px;text-align:center}.bottom-btns[_ngcontent-%COMP%]{position:static;display:flex;justify-content:center;margin-top:25px}.custom-btn[_ngcontent-%COMP%]{padding:8px 20px;border-radius:30px;font-size:1rem}}']})};export{T as a};

import{b as i,l as z,n as T}from"./chunk-EZXKPUDW.js";import{$ as C,B as v,C as c,F as f,G as w,K as b,La as G,Ma as R,N as g,O as P,P as _,Q as y,R as k,S as r,T as o,U as l,V as S,W as x,X as d,_ as a,aa as E,ba as F,ea as h,j as O,m as M,q as j,ra as I,s as m,t as u,ya as q,za as U}from"./chunk-QP2BZZD3.js";var $=e=>["/detail/",e],L=e=>["/edit/",e],B=(e,n)=>n.id;function H(e,n){if(e&1&&(r(0,"button",24),l(1,"i",26),o()),e&2){let t=d().$implicit;g("routerLink",h(1,L,t.id))}}function A(e,n){if(e&1&&(r(0,"div",4)(1,"div",11)(2,"div",12),l(3,"img",13),o(),r(4,"div",14)(5,"h5",15),a(6),o(),r(7,"p",16),a(8),o(),r(9,"p")(10,"strong"),a(11,"Tecnolog\xEDa:"),o(),a(12),o(),r(13,"div",17)(14,"div",18)(15,"div",19)(16,"button",20),l(17,"i",21),o(),r(18,"button",20),l(19,"i",22),o()(),r(20,"div",23)(21,"button",24),l(22,"i",25),o(),b(23,H,2,3,"button",24),o()()()()()()),e&2){let t=n.$implicit,s=d(2);c(3),g("src",t.imgUrl?t.imgUrl:"images/placeholder.jpg",v),c(3),C(t.name),c(2),C(t.description),c(4),E(" ",t.technology,""),c(9),g("routerLink",h(6,$,t.id)),c(2),_(s.role==="Admin"?23:-1)}}function J(e,n){if(e&1){let t=S();r(0,"div",3),y(1,A,24,8,"div",4,B),o(),r(3,"nav",5)(4,"ul",6)(5,"li",7)(6,"button",8),x("click",function(){m(t);let p=d();return u(p.changePage(p.currentPage-1))}),a(7," Anterior "),o()(),r(8,"li",9)(9,"span",10),a(10),o()(),r(11,"li",7)(12,"button",8),x("click",function(){m(t);let p=d();return u(p.changePage(p.currentPage+1))}),a(13," Siguiente "),o()()()()}if(e&2){let t=d();c(),k(t.projects),c(4),P("disabled",t.currentPage===1),c(5),F(" P\xE1gina ",t.currentPage," de ",t.totalPages," "),c(),P("disabled",t.currentPage===t.totalPages)}}function K(e,n){e&1&&(r(0,"p",2),a(1,"No hay proyectos disponibles."),o())}var D=class e{constructor(n,t){this.projectsService=n;this.fb=t;this.projectsFroms=this.fb.group({name:["",i.required],description:["",i.required],technology:["",i.required],url:["",i.required],imgUrl:["",i.required],skills:this.fb.array([this.createSkillsGroup()]),experience:this.fb.array([this.createExperienceGroup()])})}projects=[];currentPage=1;projectsPerPage=3;totalPages=1;token=null;role="";projectsFroms;pagedProjects;ngOnInit(){localStorage.getItem("token")&&(this.role=sessionStorage.getItem("role"),this.loadProjects(this.currentPage,this.projectsPerPage))}loadProjects(n,t){this.projectsService.getProjects(n,t).subscribe(s=>{this.projects=s.items,this.totalPages=s.totalPages,this.currentPage=s.pageNumber})}changePage(n){n>=1&&n<=this.totalPages&&this.loadProjects(n,this.projectsPerPage)}createSkillsGroup(){return this.fb.group({id:[0],name:["",i.required],percentage:[0,[i.required,i.min(0),i.max(100)]],iconUrl:["",i.required],description:["",i.required]})}createExperienceGroup(){return this.fb.group({id:[0],companyName:["",i.required],position:["",i.required],startDate:["",i.required],endDate:["",i.required],description:["",i.required]})}static \u0275fac=function(t){return new(t||e)(f(R),f(z))};static \u0275cmp=w({type:e,selectors:[["app-projects"]],decls:5,vars:1,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"text-center","text-muted"],[1,"row","row-cols-1","row-cols-sm-1","row-cols-md-1","row-cols-lg-3","g-4"],[1,"col"],["aria-label","Page navigation",1,"mt-4"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link",3,"click"],[1,"page-item","disabled"],[1,"page-link"],[1,"card","project-card"],[1,"card","image-container","p-0"],["alt","Error en carga de imagen de proyecto",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column"],[1,"card-title"],[1,"card-text","text-truncate"],[1,"mt-auto"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"social-buttons"],["type","button",1,"btn","btn-sm","btn-outline-secondary"],[1,"fab","fa-github"],[1,"fab","fa-linkedin"],[1,"action-buttons"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"routerLink"],[1,"far","fa-folder-open"],[1,"fas","fa-edit"]],template:function(t,s){t&1&&(r(0,"section",0)(1,"h2",1),a(2,"Proyectos Realizados"),o(),b(3,J,14,6)(4,K,2,0,"p",2),o()),t&2&&(c(3),_(s.projects.length>0?3:4))},dependencies:[U,T],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{max-width:95%}.project-card[_ngcontent-%COMP%]{background-color:#dfd2d0;min-height:500px;min-width:300px;display:flex;flex-direction:column;justify-content:space-between;border-radius:8px;transition:all .3s ease-in-out;box-shadow:0 4px 8px #0000001a;margin-bottom:15px}.image-container[_ngcontent-%COMP%]{background-color:#fffdfc;padding:0;display:flex;justify-content:center;align-items:center;min-height:200px}.card-img-top[_ngcontent-%COMP%]{height:auto;width:150px;object-fit:cover;padding:0;object-position:center center;background-color:#fffdfc;border-radius:8px 8px 0 0;transition:transform .3s ease}.project-card[_ngcontent-%COMP%]:hover   .card-img-top[_ngcontent-%COMP%]{transform:scale(1.05)}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:end;gap:5px;flex-wrap:wrap;width:100%}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px;border:none;border-radius:5px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8vw}.social-buttons[_ngcontent-%COMP%]{display:flex;justify-content:end;flex-wrap:wrap;gap:10px;margin-top:10px;width:100%}.social-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none}.social-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2vw;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#007bff}@media (max-width: 974px){.container[_ngcontent-%COMP%]{max-width:95%}.project-card[_ngcontent-%COMP%]{background-color:#dfd2d0;min-height:45vh;display:flex;flex-direction:column;justify-content:space-between}.image-container[_ngcontent-%COMP%]{background-color:#fffdfc;min-height:20vh;padding:2.1vw;display:flex;justify-content:center;align-items:center}.card-img-top[_ngcontent-%COMP%]{height:24vh;width:100%;object-fit:cover;object-position:center center;background-color:#fffdfc}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:end;gap:5px;flex-wrap:wrap;width:100%}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px;border:none;border-radius:5px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8vw}.social-buttons[_ngcontent-%COMP%]{display:flex;justify-content:end;flex-wrap:wrap;gap:10px;margin-top:10px;width:100%}.social-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none}.social-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2vw;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#007bff}}@media (max-width: 375px){.social-buttons[_ngcontent-%COMP%]{display:flex;justify-content:end;flex-wrap:wrap;gap:10px;margin-top:10px;width:100%}.social-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none}.social-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10vw;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#007bff}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:end;gap:5px;flex-wrap:wrap;width:100%}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:3px;border:none;border-radius:5px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:7vw}.image-container[_ngcontent-%COMP%]{background-color:#fffdfc;min-height:10vh;padding:2.1vw;display:flex;justify-content:center;align-items:center}.card-img-top[_ngcontent-%COMP%]{height:35vh;width:100%;object-fit:cover;object-position:center center;background-color:#fffdfc}}@media (max-width: 768px){.project-card[_ngcontent-%COMP%]{background-color:#dfd2d0;min-height:50vh;display:flex;flex-direction:column;justify-content:space-between}.image-container[_ngcontent-%COMP%]{background-color:#fffdfc;min-height:30vh;padding:2.1vw;display:flex;justify-content:center;align-items:center}.card-img-top[_ngcontent-%COMP%]{height:35vh;width:100%;object-fit:cover;object-position:center center;background-color:#fffdfc}.social-buttons[_ngcontent-%COMP%]{display:flex;justify-content:end;flex-wrap:wrap;gap:7px;margin-top:10px;width:100%}.social-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none}.social-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4vw;transition:all .3s ease-in-out}.social-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#007bff}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:end;gap:5px;flex-wrap:wrap;width:100%}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:3px;border:none;border-radius:5px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4vw}}']})};var V=class e{http=j(I);router=new q;skills=[];baseUrl=`${G.apiUrl}Skills`;constructor(){}getSkills(){return this.http.get(this.baseUrl,{withCredentials:!0}).pipe(O(n=>this.skills=n))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})};export{D as a,V as b};
